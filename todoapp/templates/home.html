{% extends 'base.html'%}
{%block body_block%}

<div class="container  mt-5">
    <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
            {% if messages %}
            {% for m in messages %}
            {% if m.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>{{ m }}</strong> You should check in on some of those fields below.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endif %}
            {% if m.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>{{ m }}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endif %}

            {% endfor %}
            {% endif %}

            <h2 class="text-info text-center">Welcome user {{request.user}}</h2>
        </div>
        <div class="col-3"></div>
    </div>
    <div class="row">
        {%if todos%}
        <div class="col-4"></div>
        <div class="col-4">
            <h4 class="mt-3 text-warning">The pending Todos are here....</h4>
            <table class="table">
                <tr>
                    <th>Task Name</th>
                    <th>Status</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
                {%for todo in todos%}
                <tr>
                    <td>{{todo.task_name}}</td>
                    <td>{{todo.status}}</td>
                    <td>{{todo.date}}</td>
                    <td>
                        <a href="{%url 'todo-update' todo.id %}" class="btn btn-outline-warning btn-sm">Edit</a>
                    </td>
                </tr>
                {%endfor%}
            </table>
        </div>

        <div class="col-4"></div>
        {%endif%}
    </div>
</div>
{%endblock%}
